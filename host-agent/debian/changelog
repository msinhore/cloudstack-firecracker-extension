firecracker-cloudstack-agent (0.4.0-3) unstable; urgency=medium

  * Ensure VNC console bridges shut down automatically when clients disconnect,
    improve console output normalization for CloudStack, and support the
    `getconsole` alias in the management script.

 -- Marco Sinhoreli <msinhore@gmail.com>  Wed, 12 Nov 2025 09:00:00 +0000

firecracker-cloudstack-agent (0.4.0-2) unstable; urgency=medium

  * Fix network driver selection so CloudStack payloads/defaults can request
    ovs-vlan instead of hardcoded linux-bridge-vlan.
  * Improve the VNC console bridge (custom geometry, logging, color tweaks)
    and ship a shell-based client helper (`firecracker.sh`) mirroring the
    Proxmox extension workflow.

 -- Marco Sinhoreli <msinhore@gmail.com>  Tue, 11 Nov 2025 15:00:00 +0000

firecracker-cloudstack-agent (0.4.0-1) unstable; urgency=medium

  * Add a VNC console bridge leveraging Xvfb/xterm/x11vnc and expose it via
    the new `/v1/vms/{name}/console` API endpoints.
  * Extend the firecracker.py client with a `console` action and update the
    documentation with instructions for integrating the console proxy.
  * Ship the new console manager module in the Debian package and pull in the
    required x11vnc/xterm/xvfb packages as dependencies.

 -- Marco Sinhoreli <msinhore@gmail.com>  Fri, 17 Oct 2025 10:15:00 +0000
firecracker-cloudstack-agent (0.3.2-2) unstable; urgency=medium

  * Hotfix: honor `net.driver` from CloudStack payloads or agent defaults
    instead of hardcoding linux-bridge-vlan, so ovs-vlan deployments work
    without manual patches on v0.3.2.

 -- Marco Sinhoreli <msinhore@gmail.com>  Tue, 11 Nov 2025 14:05:00 +0000

firecracker-cloudstack-agent (0.3.2-1) unstable; urgency=medium

  * Fix VM provisioning to honor `maxRam` from CloudStack payloads when
    generating Firecracker configs.
  * Update documentation with a full agent configuration reference table.
  * Report memory size from discovered VM configs so the UI shows the
    provisioned MiB/GiB correctly.
  * Persist and expose network uplink information for each VM, and improve
    interface rendering in the dashboard.

 -- Marco Sinhoreli <msinhore@gmail.com>  Thu, 16 Oct 2025 17:58:12 +0000

firecracker-cloudstack-agent (0.3.1-1) unstable; urgency=medium

  * Make the embedded UI configurable (enable/disable + session timeout) via
    firecracker-agent.json and expose the effective values over /v1/ui/config.
  * Add automatic session expiry handling in the Vue frontend and redirect the
    root path to /ui when the UI is enabled.

 -- Marco Sinhoreli <msinhore@gmail.com>  Wed, 15 Oct 2025 19:44:44 +0000

firecracker-cloudstack-agent (0.3.0-1) unstable; urgency=medium

  * Added a Vue-based host dashboard served from the agent (/ui) with 
    basic-auth backed by the existing API.
  * Surfaced host metadata fed by the new /v1/host/summary endpoint.
  * Streamlined VM detail panels.
  * Add `/v1/vms/{name}/details` endpoint to expose aggregated VM metadata for
    the host dashboard.
  * Ship the new read-only Vue dashboard under `/ui` and serve the compiled
    assets directly from the agent process.
  * Include a systemd shutdown helper that stops running Firecracker VMs via
    the agent API during host shutdown.
  * Extend the Debian packaging to build the UI bundle with npm and install the
    generated `dist/` assets alongside the agent.
  
 -- Marco Sinhoreli <msinhore@gmail.com>  Tue, 15 Oct 2025 00:26:00 +0000

firecracker-cloudstack-agent (0.2.0-1) unstable; urgency=medium

  * Add optional TLS listener configuration gated by the new `security.tls`
    section and surface certificate/client-auth validation on startup.
  * Seed `/etc/cloudstack/tls-cert` on install and auto-generate local CA and
    server certificates with OpenSSL when none are present.
  * Update systemd unit and CLI wrapper to launch the agent via
    firecracker-agent.py so TLS/auth settings from the JSON config are honored.
  * Harden auth loading to treat non-boolean "enabled" values correctly and to
    skip PAM dependency when authentication is disabled.
  * Introduce PAM-backed HTTP Basic authentication that is enabled only when
    the `auth` section is present in /etc/cloudstack/firecracker-agent.json.
  * Ship the new `utils/auth.py` helper in the Debian package and mark the
    agent configuration as a conffile for safer upgrades.
  * Extend the packaged example config with TLS/auth defaults under
    `/etc/cloudstack/tls-cert` and keep the features disabled by default.
  * Enhance `firecracker.py` client to negotiate HTTPS (CA bundles, skip verify,
    mTLS) and HTTP Basic credentials transparently via CloudStack payload.

 -- Marco Sinhoreli <msinhore@gmail.com>  Sat, 04 Oct 2025 10:00:00 +0000

firecracker-cloudstack-agent (0.1.0-2) unstable; urgency=medium

  * Expose configurable payload_dir in host defaults and documentation.
  * Persist incoming VM specs to the payload directory via the API.
  * Ensure systemd service creates /var/lib/firecracker/payload before start.
  * Validate firecracker binary path during VM startup and fail fast if missing.

 -- Marco Sinhoreli <msinhore@gmail.com>  Fri, 03 Oct 2025 16:40:00 +0000

firecracker-cloudstack-agent (0.1.0-1) unstable; urgency=low

  * Initial release of Firecracker CloudStack Agent
  * FastAPI-based RESTFul API for managing Firecracker microVMs
  * Typer-based CLI interface
  * Pluggable storage backends (file, LVM, LVM-thin)
  * Network management with VLAN support
  * Systemd integration
  * CloudStack integration ready
  * Modularized codebase for better maintainability
  * Separated orchestration layer into dedicated modules
  * Created dedicated modules for configuration, state, and utilities
  * Improved code quality and PEP8 compliance
  * Better error handling and validation

 -- Marco Sinhoreli <msinhore@gmail.com>  Thu, 02 Oct 2025 16:40:00 +0000
